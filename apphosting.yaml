# Firebase App Hosting Configuration
# Docs: https://firebase.google.com/docs/app-hosting/configure

runConfig:
  cpu: 1
  memoryMiB: 512
  concurrency: 80
  minInstances: 0
  maxInstances: 5
  region: europe-west1

env:
  # ===========================================================
  # NEXT_PUBLIC_* — musia byť pri BUILD (inline do client JS)
  # "availability: [BUILD, RUNTIME]" = dostupné pri oboch
  # ===========================================================

  - variable: NEXT_PUBLIC_FIREBASE_API_KEY
    secret: NEXT_PUBLIC_FIREBASE_API_KEY
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    secret: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    secret: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    secret: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    secret: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    secret: NEXT_PUBLIC_FIREBASE_APP_ID
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID
    secret: NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_GOOGLE_MAPS_KEY
    secret: NEXT_PUBLIC_GOOGLE_MAPS_KEY
    availability:
      - BUILD
      - RUNTIME

  # ===========================================================
  # SERVER-ONLY SECRETS — iba RUNTIME (nikdy v client JS)
  # Default availability je RUNTIME, netreba špecifikovať
  # ===========================================================

  - variable: STRIPE_SECRET_KEY
    secret: STRIPE_SECRET_KEY

  - variable: STRIPE_WEBHOOK_SECRET
    secret: STRIPE_WEBHOOK_SECRET

  - variable: GEMINI_API_KEY
    secret: GEMINI_API_KEY